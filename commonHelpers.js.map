{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction renderFunctions(photos) {\n  const { hits } = photos;\n  const list = document.querySelector('.photos-list');\n\n  const photoList = hits\n    .map(\n      ({\n        downloads,\n        comments,\n        views,\n        likes,\n        tags,\n        webformatURL,\n        largeImageURL,\n      }) => `\n    <li class=\"gallery\">\n      <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"></a>\n      <span>Likes ${likes}</span>\n      <span>Views ${views}</span>\n      <span>Comments ${comments}</span>\n      <span>Downloads ${downloads}</span>\n    </li>`\n    )\n    .join('');\n\n  clearList();\n\n  list.insertAdjacentHTML('beforeend', photoList);\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nfunction clearList() {\n  const list = document.querySelector('.photos-list');\n  return (list.innerHTML = '');\n}\n\nexport { clearList, renderFunctions };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { clearList } from './render-functions';\n\nexport function fetchPhotos(textValue) {\n  const KEY_URL = '44930216-c8fe7065044399c3ab26c911d';\n  const URL = 'https://pixabay.com/api/';\n  const searchParams = new URLSearchParams({\n    q: textValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${URL}?key=${KEY_URL}&${searchParams}`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(photos => {\n      if (photos.hits.length === 0) {\n        clearList();\n\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      return photos;\n    })\n    .catch(error => console.error(error));\n}\n","import { fetchPhotos } from './js/pixabay-api';\nimport { renderFunctions } from './js/render-functions';\n\nconst elements = {\n  form: document.querySelector('.js-form'),\n  spinner: document.querySelector('.js-loader'),\n};\nconsole.log(elements.spinner);\nelements.form.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(evt) {\n  evt.preventDefault();\n\n  const data = {};\n  new FormData(evt.target).forEach((value, key) => {\n    return (data[key] = value.trim().toLowerCase());\n  });\n\n  if (!data.textValue) {\n    alert('it is empty');\n    return;\n  }\n\n  elements.spinner.hidden = false;\n\n  fetchPhotos(data.textValue)\n    .then(photos => renderFunctions(photos))\n    .finally(() => {\n      elements.spinner.hidden = true;\n    });\n\n  evt.currentTarget.reset();\n}\n"],"names":["renderFunctions","photos","hits","list","photoList","downloads","comments","views","likes","tags","webformatURL","largeImageURL","clearList","SimpleLightbox","fetchPhotos","textValue","KEY_URL","URL","searchParams","res","iziToast","error","elements","handlerSearch","evt","data","value","key"],"mappings":"6vBAGA,SAASA,EAAgBC,EAAQ,CAC/B,KAAM,CAAE,KAAAC,CAAM,EAAGD,EACXE,EAAO,SAAS,cAAc,cAAc,EAE5CC,EAAYF,EACf,IACC,CAAC,CACC,UAAAG,EACA,SAAAC,EACA,MAAAC,EACA,MAAAC,EACA,KAAAC,EACA,aAAAC,EACA,cAAAC,CACR,IAAY;AAAA;AAAA,iBAEKA,CAAa,eAAeD,CAAY,UAAUD,CAAI;AAAA,oBACnDD,CAAK;AAAA,oBACLD,CAAK;AAAA,uBACFD,CAAQ;AAAA,wBACPD,CAAS;AAAA,UAE5B,EACA,KAAK,EAAE,EAEVO,IAEAT,EAAK,mBAAmB,YAAaC,CAAS,EAE7B,IAAIS,EAAe,YAAY,EACvC,QAAO,CAClB,CAEA,SAASD,GAAY,CACnB,MAAMT,EAAO,SAAS,cAAc,cAAc,EAClD,OAAQA,EAAK,UAAY,EAC3B,CCnCO,SAASW,EAAYC,EAAW,CACrC,MAAMC,EAAU,qCACVC,EAAM,2BACNC,EAAe,IAAI,gBAAgB,CACvC,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGE,CAAG,QAAQD,CAAO,IAAIE,CAAY,EAAE,EACjD,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKlB,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5BW,IAEAQ,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CACD,OAAOnB,CACb,CAAK,EACA,MAAMoB,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CChCA,MAAMC,EAAW,CACf,KAAM,SAAS,cAAc,UAAU,EACvC,QAAS,SAAS,cAAc,YAAY,CAC9C,EACA,QAAQ,IAAIA,EAAS,OAAO,EAC5BA,EAAS,KAAK,iBAAiB,SAAUC,CAAa,EAEtD,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAElB,MAAMC,EAAO,CAAA,EAKb,GAJA,IAAI,SAASD,EAAI,MAAM,EAAE,QAAQ,CAACE,EAAOC,IAC/BF,EAAKE,CAAG,EAAID,EAAM,KAAI,EAAG,aAClC,EAEG,CAACD,EAAK,UAAW,CACnB,MAAM,aAAa,EACnB,MACD,CAEDH,EAAS,QAAQ,OAAS,GAE1BR,EAAYW,EAAK,SAAS,EACvB,KAAKxB,GAAUD,EAAgBC,CAAM,CAAC,EACtC,QAAQ,IAAM,CACbqB,EAAS,QAAQ,OAAS,EAChC,CAAK,EAEHE,EAAI,cAAc,OACpB"}